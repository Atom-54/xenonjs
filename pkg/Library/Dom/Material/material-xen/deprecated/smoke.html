<!doctype html>
<!--
  Copyright 2023 NeonFlan LLC
  SPDX-License-Identifier: BSD-3-Clause
-->


<style>
  body {
    background: silver;
    margin: 0;
  }
  [viewport] {
    border: 3px solid lightgreen;
    min-height: 1500px;
  }
  button {
    padding: 8px 12px;
    margin: 8px;
    border-radius: 48px;
    border: 1px solid silver;
  }
  [modal] {
    background-color: beige;
    border: 1px solid purple;
    color: green;
    padding: 20px;
  }
</style>

<link rel="stylesheet" href="../material-icon-font/icons.css">

<script type="module">
  import '../mwc/mwc.min.js';
  import {MxcTopAppBar} from './mxc-top-app-bar.js';
  customElements.define('mxc-top-app-bar', MxcTopAppBar);
  import {FancyImage} from './fancy-image.js';
  customElements.define('fancy-image', FancyImage);
  import {ImageUpload} from './image-upload.js';
  customElements.define('image-upload', ImageUpload);
  import {ModalView} from './modal-view.js';
  customElements.define('modal-view', ModalView);
</script>

<mxc-top-app-bar id="appbar">
  <div slot="title">
    <div style="font-size: 24px; font-family: Google Sans, sans-serif; text-align: center;">RedOwl Builder</div>
  </div>
  <icon slot="actionItems" style="font-size: 24px; color: white;" on-click="onStorageClick">menu</icon>
  <div viewport>
    <!-- -->
    <button onclick="toggle()">Toggle</button>
    <br>
    <fancy-image id="fancy" autosize src="./44.png"></fancy-image>
    <hr>

    <!-- -->
    <image-upload id="upload">
      <button>Click Here to Upload Images</button>
      <br>
    </image-upload>
    <img id="img">
    <hr>

    <!-- -->
    <button onclick="toggleModal()">Open Modal</button>
    <modal-view id="modal" onclick="toggleModal()">
      <div modal>
        <div>Hello World!</div>
        <button>Close</button>
      </div>
    </modal-view>
  </div>
</mxc-top-app-bar>

<script type="module">
  appbar.scroller = 'body';
  upload.addEventListener('image', e => {
    console.log(e);
    img.src = e.detail.src;
  });
  window.toggle = () => {
    if (window.toggle.index) {
      window.toggle.index = 0;
      fancy.src = "./44.png";
    } else {
      window.toggle.index = 1;
      fancy.src = "./46.png";
    }
  };
  window.toggleModal = () => {
    modal.show = !Boolean(modal.show);
  };
</script>
